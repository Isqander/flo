### Получение JWT токена (используйте этот запрос первым)
### После выполнения скопируйте токен из ответа и вставьте в переменную token ниже
POST http://localhost:8080/api/auth/token
Authorization: Basic admin changeMe

###

### Переменная для хранения токена (замените YOUR_TOKEN_HERE на реальный токен из предыдущего запроса)
@token = eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc2MDQyOTI5NiwiZXhwIjoxNzYwNDMyODk2fQ.2HowIcsR6EB5gqnw-IerJnjlL6WScHeOXgAS698-sHg

###

POST http://localhost:8080/api/products
Content-Type: multipart/form-data; boundary=boundary
Authorization: Bearer {{token}}

--boundary
Content-Disposition: form-data; name="product"
Content-Type: application/json

{
  "name": "таби",
  "description": "носкиДляЯпонцевСвото",
  "categoryIds": [1],
  "price": 1000,
  "status": "ACTIVE"
}
--boundary
Content-Disposition: form-data; name="photos"; filename="photo1.jpg"
Content-Type: image/jpeg

< ./photo_2024-05-23_12-31-48.jpg
--boundary
Content-Disposition: form-data; name="photos"; filename="photo2.png"
Content-Type: image/jpeg

< ./115308.png
--boundary--


###

POST http://localhost:8080/api/products
Content-Type: multipart/form-data; boundary=boundary
Authorization: Bearer {{token}}

--boundary
Content-Disposition: form-data; name="product"
Content-Type: application/json

{
  "name": "таби",
  "description": "носкиДляЯпонцев",
  "categoryIds": [1],
  "price": 1000,
  "status": "ACTIVE"
}

###

### Update product - only update data (photos remain unchanged)
PUT http://localhost:8080/api/products/1
Content-Type: multipart/form-data; boundary=boundary
Authorization: Bearer {{token}}

--boundary
Content-Disposition: form-data; name="product"
Content-Type: application/json

{
  "name": "таби обновленные",
  "description": "носкиДляЯпонцев",
  "categoryIds": [1],
  "price": 1200,
  "status": "ACTIVE"
}
--boundary--

###

### Update product - add new photos (old photos are kept)
PUT http://localhost:8080/api/products/1
Content-Type: multipart/form-data; boundary=boundary
Authorization: Bearer {{token}}

--boundary
Content-Disposition: form-data; name="product"
Content-Type: application/json

{
  "name": "таби",
  "description": "носкиДляЯпонцев",
  "categoryIds": [1],
  "price": 1000,
  "status": "ACTIVE"
}
--boundary
Content-Disposition: form-data; name="photos"; filename="newphoto.jpg"
Content-Type: image/jpeg

< ./photo_2024-05-23_12-31-48.jpg
--boundary--

###

### Update product - delete specific photos (specify filenames from product.photos array)
PUT http://localhost:8080/api/products/1
Content-Type: multipart/form-data; boundary=boundary
Authorization: Bearer {{token}}

--boundary
Content-Disposition: form-data; name="product"
Content-Type: application/json

{
  "name": "таби",
  "description": "носкиДляЯпонцев",
  "categoryIds": [1],
  "price": 1000,
  "status": "ACTIVE"
}
--boundary
Content-Disposition: form-data; name="photosToDelete"
Content-Type: application/json

["old-filename-1.jpg", "old-filename-2.png"]
--boundary--

###

### Update product - add new photos AND delete old ones
PUT http://localhost:8080/api/products/1
Content-Type: multipart/form-data; boundary=boundary
Authorization: Bearer {{token}}

--boundary
Content-Disposition: form-data; name="product"
Content-Type: application/json

{
  "name": "таби",
  "description": "носкиДляЯпонцев",
  "categoryIds": [1],
  "price": 1000,
  "status": "ACTIVE"
}
--boundary
Content-Disposition: form-data; name="photos"; filename="newphoto.jpg"
Content-Type: image/jpeg

< ./photo_2024-05-23_12-31-48.jpg
--boundary
Content-Disposition: form-data; name="photosToDelete"
Content-Type: application/json

["old-filename-to-delete.jpg"]
--boundary--

###

GET http://localhost:8080/api/products
Accept: application/json

###

GET http://localhost:8080/api/products/6
Accept: application/json


###

DELETE http://localhost:8080/api/products/5
Accept: application/json
Authorization: Bearer {{token}}

###

POST http://localhost:8080/api/categories
Content-Type: application/json
Authorization: Bearer {{token}}

{
  "name": "ботинки"
}

###

GET http://localhost:8080/api/categories
Accept: application/json

###

DELETE http://localhost:8080/api/categories/4
Content-Type: application/json
Authorization: Bearer {{token}}

###

POST http://localhost:8080/api/orders
Content-Type: application/json

{
  "customerName": "Иван Smith",
  "productIds": [1],
  "email": "ivan@example.com",
  "phone": "+7 999 123 45 67",
  "telegramUsername": "@ivan_ivanov",
  "customerComment": "Прошу доставить как можно скорее!"
}

###

### Получить заказы клиента (публичный endpoint, нужен хотя бы один фильтр)
GET http://localhost:8080/api/orders/my?email=ivan@example.com
Accept: application/json

###

### Получить заказы текущей сессии (после создания заказа в этой же сессии)
GET http://localhost:8080/api/orders/my
Accept: application/json

###

GET http://localhost:8080/api/orders
Accept: application/json
Authorization: Bearer {{token}}
